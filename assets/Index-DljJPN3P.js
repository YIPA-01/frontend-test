import{e as g,g as V,c,w as a,p as C,B as F,o as u,b as p,a as l,u as t,l as n,d as b,i as N,F as B,j,t as _}from"./main-MNcEe9nS.js";import{b as y}from"./useToast-D-yC0XMS.js";import{_ as A}from"./Card-CGGVAz6J.js";import{_ as D,a as L}from"./CardTitle-CvEajrma.js";import{_ as z}from"./CardContent-DjNJdOrj.js";import{_ as M}from"./Switch-CiQvMZNC.js";import{_ as P,a as S,b as x,c as r,d as U,e as d}from"./TableCell-DXIt9hhK.js";import{_ as R}from"./AdminLayout-BX8Pjj0M.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"container py-6"},q={key:0,class:"flex justify-center py-8"},G={class:"flex justify-end gap-2"},h={__name:"Index",setup(H){const $=F(),v=C(),f=g(!1),o=g([]),k=async()=>{f.value=!0;try{const i=await v.get("/admin/education");o.value=i.data}catch(i){console.error("Failed to load education:",i)}finally{f.value=!1}},w=async i=>{if(confirm("Are you sure you want to delete this education entry?"))try{await v.delete(`/admin/education/${i}`),o.value=o.value.filter(e=>e.id!==i)}catch(e){console.error("Failed to delete education:",e)}},E=async i=>{try{const e={...i,is_visible:!i.is_visible};await v.put(`/admin/education/${i.id}`,e);const s=o.value.findIndex(m=>m.id===i.id);s!==-1&&(o.value[s]={...o.value[s],is_visible:!o.value[s].is_visible})}catch(e){console.error("Failed to update education visibility:",e)}};return V(()=>{k()}),(i,e)=>(u(),c(R,null,{header:a(()=>e[1]||(e[1]=[p("h2",{class:"text-xl font-semibold text-foreground"},"Education Management",-1)])),default:a(()=>[p("div",T,[l(t(A),null,{default:a(()=>[l(t(D),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[l(t(L),{class:"text-sm font-medium"},{default:a(()=>e[2]||(e[2]=[n("Education List")])),_:1,__:[2]}),l(t(y),{onClick:e[0]||(e[0]=s=>t($).push("/admin/education/create"))},{default:a(()=>e[3]||(e[3]=[n(" Add New Education ")])),_:1,__:[3]})]),_:1}),l(t(z),null,{default:a(()=>[f.value?(u(),b("div",q,e[4]||(e[4]=[p("div",{class:"text-sm text-muted-foreground"},"Loading education...",-1)]))):(u(),c(t(P),{key:1},{default:a(()=>[l(t(S),null,{default:a(()=>[l(t(x),null,{default:a(()=>[l(t(r),null,{default:a(()=>e[5]||(e[5]=[n("School")])),_:1,__:[5]}),l(t(r),null,{default:a(()=>e[6]||(e[6]=[n("Degree")])),_:1,__:[6]}),l(t(r),null,{default:a(()=>e[7]||(e[7]=[n("Field")])),_:1,__:[7]}),l(t(r),null,{default:a(()=>e[8]||(e[8]=[n("Period")])),_:1,__:[8]}),l(t(r),null,{default:a(()=>e[9]||(e[9]=[n("Visible")])),_:1,__:[9]}),l(t(r),{class:"text-right"},{default:a(()=>e[10]||(e[10]=[n("Actions")])),_:1,__:[10]})]),_:1})]),_:1}),l(t(U),null,{default:a(()=>[o.value.length===0&&!f.value?(u(),c(t(x),{key:0},{default:a(()=>[l(t(d),{colspan:"6",class:"text-center"},{default:a(()=>e[11]||(e[11]=[n("No education entries found.")])),_:1,__:[11]})]),_:1})):N("",!0),(u(!0),b(B,null,j(o.value,s=>(u(),c(t(x),{key:s.id},{default:a(()=>[l(t(d),null,{default:a(()=>[n(_(s.school),1)]),_:2},1024),l(t(d),null,{default:a(()=>[n(_(s.degree),1)]),_:2},1024),l(t(d),null,{default:a(()=>[n(_(s.field),1)]),_:2},1024),l(t(d),null,{default:a(()=>[n(_(s.start_date)+" - "+_(s.end_date||"Present"),1)]),_:2},1024),l(t(d),null,{default:a(()=>[l(t(M),{"model-value":s.is_visible,"onUpdate:modelValue":m=>E(s)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),l(t(d),{class:"text-right"},{default:a(()=>[p("div",G,[l(t(y),{variant:"outline",size:"sm",onClick:m=>t($).push(`/admin/education/${s.id}/edit`)},{default:a(()=>e[12]||(e[12]=[n(" Edit ")])),_:2,__:[12]},1032,["onClick"]),l(t(y),{variant:"destructive",size:"sm",onClick:m=>w(s.id)},{default:a(()=>e[13]||(e[13]=[n(" Delete ")])),_:2,__:[13]},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))]),_:1})]),_:1})])]),_:1}))}};export{h as default};
