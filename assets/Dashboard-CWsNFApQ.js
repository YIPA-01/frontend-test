import{d as x,o as _,r as q,n as J,u as l,e as N,g as R,c as X,w as o,p as B,G as H,b as d,i as O,a as i,l as h,t as y,F as Q,k as U}from"./main-DMTM8Wa_.js";import{_ as G}from"./AdminLayout-Fu1qM4yp.js";import{_ as D}from"./Card-D5AGT6Za.js";import{_ as P,a as k}from"./CardTitle-DCQt_76P.js";import{c as K}from"./useToast-BLslXrnO.js";import{_ as S}from"./CardContent-BLB1B4ZM.js";import{_ as j}from"./CardFooter-D3KJSOR3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const W={__name:"CardDescription",props:{class:{type:String,default:""}},setup(t){const a=t;return(e,r)=>(_(),x("p",{class:J(l(K)("text-sm text-muted-foreground",a.class))},[q(e.$slots,"default")],2))}},C=43200,L=1440,E=Symbol.for("constructDateFrom");function z(t,a){return typeof t=="function"?t(a):t&&typeof t=="object"&&E in t?t[E](a):t instanceof Date?new t.constructor(a):new Date(a)}function M(t,a){return z(t,t)}let Z={};function tt(){return Z}function $(t){const a=M(t),e=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return e.setUTCFullYear(a.getFullYear()),+t-+e}function I(t,...a){const e=z.bind(null,t||a.find(r=>typeof r=="object"));return a.map(e)}function V(t,a){const e=+M(t)-+M(a);return e<0?-1:e>0?1:e}function et(t){return z(t,Date.now())}function nt(t,a,e){const[r,s]=I(e==null?void 0:e.in,t,a),m=r.getFullYear()-s.getFullYear(),u=r.getMonth()-s.getMonth();return m*12+u}function at(t){return a=>{const r=(t?Math[t]:Math.trunc)(a);return r===0?0:r}}function rt(t,a){return+M(t)-+M(a)}function st(t,a){const e=M(t);return e.setHours(23,59,59,999),e}function ot(t,a){const e=M(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function it(t,a){const e=M(t);return+st(e)==+ot(e)}function lt(t,a,e){const[r,s,m]=I(e==null?void 0:e.in,t,t,a),u=V(s,m),n=Math.abs(nt(s,m));if(n<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-u*n);let f=V(s,m)===-u;it(r)&&n===1&&V(r,m)===1&&(f=!1);const c=u*(n-+f);return c===0?0:c}function ut(t,a,e){const r=rt(t,a)/1e3;return at(e==null?void 0:e.roundingMethod)(r)}const dt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ct=(t,a,e)=>{let r;const s=dt[t];return typeof s=="string"?r=s:a===1?r=s.one:r=s.other.replace("{{count}}",a.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r};function Y(t){return(a={})=>{const e=a.width?String(a.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const mt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ft={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ht={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gt={date:Y({formats:mt,defaultWidth:"full"}),time:Y({formats:ft,defaultWidth:"full"}),dateTime:Y({formats:ht,defaultWidth:"full"})},yt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_t=(t,a,e,r)=>yt[t];function F(t){return(a,e)=>{const r=e!=null&&e.context?String(e.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,n=e!=null&&e.width?String(e.width):u;s=t.formattingValues[n]||t.formattingValues[u]}else{const u=t.defaultWidth,n=e!=null&&e.width?String(e.width):t.defaultWidth;s=t.values[n]||t.values[u]}const m=t.argumentCallback?t.argumentCallback(a):a;return s[m]}}const bt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Dt=(t,a)=>{const e=Number(t),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Pt={ordinalNumber:Dt,era:F({values:bt,defaultWidth:"wide"}),quarter:F({values:vt,defaultWidth:"wide",argumentCallback:t=>t-1}),month:F({values:xt,defaultWidth:"wide"}),day:F({values:Mt,defaultWidth:"wide"}),dayPeriod:F({values:pt,defaultWidth:"wide",formattingValues:wt,defaultFormattingWidth:"wide"})};function T(t){return(a,e={})=>{const r=e.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],m=a.match(s);if(!m)return null;const u=m[0],n=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(n)?St(n,w=>w.test(u)):kt(n,w=>w.test(u));let c;c=t.valueCallback?t.valueCallback(f):f,c=e.valueCallback?e.valueCallback(c):c;const b=a.slice(u.length);return{value:c,rest:b}}}function kt(t,a){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&a(t[e]))return e}function St(t,a){for(let e=0;e<t.length;e++)if(a(t[e]))return e}function Wt(t){return(a,e={})=>{const r=a.match(t.matchPattern);if(!r)return null;const s=r[0],m=a.match(t.parsePattern);if(!m)return null;let u=t.valueCallback?t.valueCallback(m[0]):m[0];u=e.valueCallback?e.valueCallback(u):u;const n=a.slice(s.length);return{value:u,rest:n}}}const Ft=/^(\d+)(th|st|nd|rd)?/i,Tt=/\d+/i,jt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ct={any:[/^b/i,/^(a|c)/i]},Vt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},At={any:[/1/i,/2/i,/3/i,/4/i]},Nt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ot={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},It={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lt={ordinalNumber:Wt({matchPattern:Ft,parsePattern:Tt,valueCallback:t=>parseInt(t,10)}),era:T({matchPatterns:jt,defaultMatchWidth:"wide",parsePatterns:Ct,defaultParseWidth:"any"}),quarter:T({matchPatterns:Vt,defaultMatchWidth:"wide",parsePatterns:At,defaultParseWidth:"any",valueCallback:t=>t+1}),month:T({matchPatterns:Nt,defaultMatchWidth:"wide",parsePatterns:Xt,defaultParseWidth:"any"}),day:T({matchPatterns:Ot,defaultMatchWidth:"wide",parsePatterns:Yt,defaultParseWidth:"any"}),dayPeriod:T({matchPatterns:zt,defaultMatchWidth:"any",parsePatterns:It,defaultParseWidth:"any"})},Et={code:"en-US",formatDistance:ct,formatLong:gt,formatRelative:_t,localize:Pt,match:Lt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $t(t,a,e){const r=tt(),s=(e==null?void 0:e.locale)??r.locale??Et,m=2520,u=V(t,a);if(isNaN(u))throw new RangeError("Invalid time value");const n=Object.assign({},e,{addSuffix:e==null?void 0:e.addSuffix,comparison:u}),[f,c]=I(e==null?void 0:e.in,...u>0?[a,t]:[t,a]),b=ut(c,f),w=($(c)-$(f))/1e3,g=Math.round((b-w)/60);let p;if(g<2)return e!=null&&e.includeSeconds?b<5?s.formatDistance("lessThanXSeconds",5,n):b<10?s.formatDistance("lessThanXSeconds",10,n):b<20?s.formatDistance("lessThanXSeconds",20,n):b<40?s.formatDistance("halfAMinute",0,n):b<60?s.formatDistance("lessThanXMinutes",1,n):s.formatDistance("xMinutes",1,n):g===0?s.formatDistance("lessThanXMinutes",1,n):s.formatDistance("xMinutes",g,n);if(g<45)return s.formatDistance("xMinutes",g,n);if(g<90)return s.formatDistance("aboutXHours",1,n);if(g<L){const v=Math.round(g/60);return s.formatDistance("aboutXHours",v,n)}else{if(g<m)return s.formatDistance("xDays",1,n);if(g<C){const v=Math.round(g/L);return s.formatDistance("xDays",v,n)}else if(g<C*2)return p=Math.round(g/C),s.formatDistance("aboutXMonths",p,n)}if(p=lt(c,f),p<12){const v=Math.round(g/C);return s.formatDistance("xMonths",v,n)}else{const v=p%12,A=Math.trunc(p/12);return v<3?s.formatDistance("aboutXYears",A,n):v<9?s.formatDistance("overXYears",A,n):s.formatDistance("almostXYears",A+1,n)}}function qt(t,a){return $t(t,et(t),a)}const Jt={class:"py-12"},Rt={class:"mx-auto max-w-7xl space-y-6 px-4 sm:px-6 lg:px-8"},Bt={key:0,class:"flex justify-center"},Ht={key:1,class:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4"},Qt={class:"space-y-1"},Ut={class:"text-sm text-muted-foreground"},Gt={class:"text-sm text-muted-foreground"},Kt={class:"space-y-1"},Zt={class:"text-sm text-muted-foreground"},te={class:"text-sm text-muted-foreground"},ee={class:"space-y-1"},ne={class:"text-sm text-muted-foreground"},ae={class:"text-sm text-muted-foreground"},re={class:"space-y-1"},se={class:"text-sm text-muted-foreground"},oe={class:"text-sm text-muted-foreground"},ie={class:"flex items-center justify-between"},le={key:0,class:"space-y-4"},ue={class:"flex items-start justify-between"},de={class:"flex items-center gap-2"},ce={class:"font-medium"},me={key:0,class:"inline-flex items-center rounded-full bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary"},fe={class:"text-sm text-muted-foreground"},he={class:"mt-2 line-clamp-2 text-sm text-muted-foreground"},ge={class:"mt-1 text-xs text-muted-foreground"},ye={key:1,class:"py-4 text-center text-sm text-muted-foreground"},Pe={__name:"Dashboard",setup(t){const a=B(),e=N(!1),r=N({skills:{total:0,visible:0},education:{total:0,visible:0},projects:{total:0,visible:0},messages:{total:0,unread:0}}),s=N([]),m=async()=>{e.value=!0;try{const[u,n]=await Promise.all([a.get("/admin/dashboard/stats"),a.get("/admin/dashboard/recent-messages")]);r.value=u.data,s.value=n.data}catch(u){console.error("Failed to load dashboard data:",u)}finally{e.value=!1}};return R(()=>{m()}),(u,n)=>{const f=H("router-link");return _(),X(G,null,{header:o(()=>n[0]||(n[0]=[d("h2",{class:"text-2xl font-semibold leading-tight"}," Dashboard ",-1)])),default:o(()=>[d("div",Jt,[d("div",Rt,[e.value?(_(),x("div",Bt,n[1]||(n[1]=[d("div",{class:"text-sm text-muted-foreground"},"Loading dashboard...",-1)]))):(_(),x("div",Ht,[i(l(D),null,{default:o(()=>[i(l(P),null,{default:o(()=>[i(l(k),null,{default:o(()=>n[2]||(n[2]=[h("Skills")])),_:1,__:[2]}),i(l(W),null,{default:o(()=>n[3]||(n[3]=[h("Manage your skills")])),_:1,__:[3]})]),_:1}),i(l(S),null,{default:o(()=>[d("div",Qt,[d("p",Ut,"Total: "+y(r.value.skills.total),1),d("p",Gt,"Visible: "+y(r.value.skills.visible),1)])]),_:1}),i(l(j),null,{default:o(()=>[i(f,{to:"/admin/skills",class:"text-sm text-primary hover:text-primary/80"},{default:o(()=>n[4]||(n[4]=[h(" Manage Skills → ")])),_:1,__:[4]})]),_:1})]),_:1}),i(l(D),null,{default:o(()=>[i(l(P),null,{default:o(()=>[i(l(k),null,{default:o(()=>n[5]||(n[5]=[h("Education")])),_:1,__:[5]}),i(l(W),null,{default:o(()=>n[6]||(n[6]=[h("Manage your education")])),_:1,__:[6]})]),_:1}),i(l(S),null,{default:o(()=>[d("div",Kt,[d("p",Zt,"Total: "+y(r.value.education.total),1),d("p",te,"Visible: "+y(r.value.education.visible),1)])]),_:1}),i(l(j),null,{default:o(()=>[i(f,{to:"/admin/education",class:"text-sm text-primary hover:text-primary/80"},{default:o(()=>n[7]||(n[7]=[h(" Manage Education → ")])),_:1,__:[7]})]),_:1})]),_:1}),i(l(D),null,{default:o(()=>[i(l(P),null,{default:o(()=>[i(l(k),null,{default:o(()=>n[8]||(n[8]=[h("Projects")])),_:1,__:[8]}),i(l(W),null,{default:o(()=>n[9]||(n[9]=[h("Manage your projects")])),_:1,__:[9]})]),_:1}),i(l(S),null,{default:o(()=>[d("div",ee,[d("p",ne,"Total: "+y(r.value.projects.total),1),d("p",ae,"Visible: "+y(r.value.projects.visible),1)])]),_:1}),i(l(j),null,{default:o(()=>[i(f,{to:"/admin/projects",class:"text-sm text-primary hover:text-primary/80"},{default:o(()=>n[10]||(n[10]=[h(" Manage Projects → ")])),_:1,__:[10]})]),_:1})]),_:1}),i(l(D),null,{default:o(()=>[i(l(P),null,{default:o(()=>[i(l(k),null,{default:o(()=>n[11]||(n[11]=[h("Messages")])),_:1,__:[11]}),i(l(W),null,{default:o(()=>n[12]||(n[12]=[h("View your messages")])),_:1,__:[12]})]),_:1}),i(l(S),null,{default:o(()=>[d("div",re,[d("p",se,"Total: "+y(r.value.messages.total),1),d("p",oe,"Unread: "+y(r.value.messages.unread),1)])]),_:1}),i(l(j),null,{default:o(()=>[i(f,{to:"/admin/messages",class:"text-sm text-primary hover:text-primary/80"},{default:o(()=>n[13]||(n[13]=[h(" View All Messages → ")])),_:1,__:[13]})]),_:1})]),_:1})])),e.value?O("",!0):(_(),X(l(D),{key:2},{default:o(()=>[i(l(P),null,{default:o(()=>[d("div",ie,[d("div",null,[i(l(k),null,{default:o(()=>n[14]||(n[14]=[h("Recent Messages")])),_:1,__:[14]}),i(l(W),null,{default:o(()=>n[15]||(n[15]=[h("Your latest messages")])),_:1,__:[15]})]),s.value.length?(_(),X(f,{key:0,to:"/admin/messages",class:"text-sm text-primary hover:text-primary/80"},{default:o(()=>n[16]||(n[16]=[h(" View All → ")])),_:1,__:[16]})):O("",!0)])]),_:1}),i(l(S),null,{default:o(()=>[s.value.length?(_(),x("div",le,[(_(!0),x(Q,null,U(s.value,c=>(_(),x("div",{key:c.id,class:"border-b pb-4 last:border-0 last:pb-0"},[d("div",ue,[d("div",null,[d("div",de,[d("h4",ce,y(c.name),1),c.is_read?O("",!0):(_(),x("span",me," New "))]),d("p",fe,y(c.email),1)]),i(f,{to:`/admin/messages/${c.id}`,class:"text-sm text-primary hover:text-primary/80"},{default:o(()=>n[17]||(n[17]=[h(" View → ")])),_:2,__:[17]},1032,["to"])]),d("p",he,y(c.content),1),d("p",ge,y(l(qt)(new Date(c.created_at),{addSuffix:!0})),1)]))),128))])):(_(),x("p",ye," No messages yet. "))]),_:1})]),_:1}))])])]),_:1})}}};export{Pe as default};
