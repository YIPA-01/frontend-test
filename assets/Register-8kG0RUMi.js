import{C as x,e as w,c as k,w as c,E as C,G as B,o as _,d as N,i as q,b as t,u as m,t as P,j as R,a,l as g,n as U}from"./main-B5BZU6_N.js";import{G as E}from"./GuestLayout-CC7ZeQt8.js";import{_ as n,a as i,b as u}from"./InputError-CvjBBtQY.js";import{P as G}from"./PrimaryButton-DRPrceRH.js";import"./useToast-BZC8Nx5n.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={key:0,class:"mb-4 text-sm font-medium text-red-600"},j={class:"mt-4"},A={class:"mt-4"},S={class:"mt-4"},h={class:"mt-4 flex items-center justify-end"},I={__name:"Register",setup(z){const V=C(),{register:y,loading:f,error:v}=x(),s=w({name:"",email:"",password:"",password_confirmation:""}),l=w({}),b=async()=>{var d,e,r,o;l.value={};try{await y({name:s.value.name,email:s.value.email,password:s.value.password,password_confirmation:s.value.password_confirmation}),V.push("/dashboard")}catch(p){s.value.password="",s.value.password_confirmation="",(e=(d=p.response)==null?void 0:d.data)!=null&&e.errors?l.value=p.response.data.errors:l.value.general=((o=(r=p.response)==null?void 0:r.data)==null?void 0:o.message)||"Registration failed"}};return(d,e)=>{const r=B("router-link");return _(),k(E,null,{default:c(()=>[m(v)?(_(),N("div",$,P(m(v)),1)):q("",!0),t("form",{onSubmit:R(b,["prevent"])},[t("div",null,[a(n,{for:"name",value:"Name"}),a(i,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.name=o),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),a(u,{class:"mt-2",message:l.value.name},null,8,["message"])]),t("div",j,[a(n,{for:"email",value:"Email"}),a(i,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:s.value.email,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.email=o),required:"",autocomplete:"username"},null,8,["modelValue"]),a(u,{class:"mt-2",message:l.value.email},null,8,["message"])]),t("div",A,[a(n,{for:"password",value:"Password"}),a(i,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:s.value.password,"onUpdate:modelValue":e[2]||(e[2]=o=>s.value.password=o),required:"",autocomplete:"new-password"},null,8,["modelValue"]),a(u,{class:"mt-2",message:l.value.password},null,8,["message"])]),t("div",S,[a(n,{for:"password_confirmation",value:"Confirm Password"}),a(i,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:s.value.password_confirmation,"onUpdate:modelValue":e[3]||(e[3]=o=>s.value.password_confirmation=o),required:"",autocomplete:"new-password"},null,8,["modelValue"]),a(u,{class:"mt-2",message:l.value.password_confirmation},null,8,["message"])]),t("div",h,[a(r,{to:"/login",class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:c(()=>e[4]||(e[4]=[g(" Already registered? ")])),_:1,__:[4]}),a(G,{class:U(["ms-4",{"opacity-25":m(f)}]),disabled:m(f)},{default:c(()=>e[5]||(e[5]=[g(" Register ")])),_:1,__:[5]},8,["class","disabled"])])],32)]),_:1})}}};export{I as default};
