import{E as w,m as $,e as k,c as U,o as c,w as o,a as d,u as s,l as u,t as n,b as i,j as D,d as f,i as p,n as _,A as S,K as B,p as C}from"./main-bV46fZrL.js";import{d as N}from"./useToast-DWOfxrPi.js";import{_ as h}from"./Card-KZt20eCW.js";import{_ as j,a as A}from"./CardTitle-zetJ0R2c.js";import{_ as F}from"./CardContent-kEdadPDo.js";import{_ as M}from"./CardFooter-C5sfxftw.js";import{_ as m,a as g}from"./Label-DnfAeCmO.js";import{_ as T}from"./Switch-SlfRsVwS.js";const q={key:0,class:"text-sm text-destructive"},z={key:0,class:"text-sm text-destructive"},K={key:0,class:"text-sm text-destructive"},O={class:"grid grid-cols-2 gap-4"},R={key:0,class:"text-sm text-destructive"},G={key:0,class:"text-sm text-destructive"},H={key:0,class:"text-sm text-destructive"},I={class:"flex items-center space-x-2"},ee={__name:"Form",props:{mode:{type:String,required:!0,validator:v=>["create","edit"].includes(v)},education:{type:Object,default:()=>({school:"",degree:"",field:"",start_date:"",end_date:"",description:"",is_visible:!0})}},setup(v){const r=v,y=w(),V=C(),l=$({school:r.education.school||"",degree:r.education.degree||"",field:r.education.field||"",start_date:r.education.start_date||"",end_date:r.education.end_date||"",description:r.education.description||"",is_visible:!!(r.education.is_visible??!0)}),t=k({}),b=k(!1),E=async()=>{var x,e;b.value=!0,t.value={};try{r.mode==="create"?(await V.post("/admin/education",l),console.log("Education created successfully"),y.push("/admin/education")):(await V.put(`/admin/education/${r.education.id}`,l),console.log("Education updated successfully"),y.push("/admin/education"))}catch(a){console.error("Form submission errors:",a),(e=(x=a.response)==null?void 0:x.data)!=null&&e.errors&&(t.value=a.response.data.errors)}finally{b.value=!1}};return(x,e)=>(c(),U(s(h),null,{default:o(()=>[d(s(j),null,{default:o(()=>[d(s(A),null,{default:o(()=>[u(n(v.mode==="create"?"Add New Education":"Edit Education"),1)]),_:1})]),_:1}),d(s(F),null,{default:o(()=>[i("form",{onSubmit:D(E,["prevent"]),class:"space-y-4"},[i("div",null,[d(s(m),{for:"school"},{default:o(()=>e[7]||(e[7]=[u("School")])),_:1,__:[7]}),d(s(g),{id:"school",modelValue:l.school,"onUpdate:modelValue":e[0]||(e[0]=a=>l.school=a),type:"text",placeholder:"Enter school name",class:_({"border-destructive ring-destructive":t.value.school})},null,8,["modelValue","class"]),t.value.school?(c(),f("span",q,n(t.value.school[0]),1)):p("",!0)]),i("div",null,[d(s(m),{for:"degree"},{default:o(()=>e[8]||(e[8]=[u("Degree")])),_:1,__:[8]}),d(s(g),{id:"degree",modelValue:l.degree,"onUpdate:modelValue":e[1]||(e[1]=a=>l.degree=a),type:"text",placeholder:"Enter degree",class:_({"border-destructive ring-destructive":t.value.degree})},null,8,["modelValue","class"]),t.value.degree?(c(),f("span",z,n(t.value.degree[0]),1)):p("",!0)]),i("div",null,[d(s(m),{for:"field"},{default:o(()=>e[9]||(e[9]=[u("Field of Study")])),_:1,__:[9]}),d(s(g),{id:"field",modelValue:l.field,"onUpdate:modelValue":e[2]||(e[2]=a=>l.field=a),type:"text",placeholder:"Enter field of study",class:_({"border-destructive ring-destructive":t.value.field})},null,8,["modelValue","class"]),t.value.field?(c(),f("span",K,n(t.value.field[0]),1)):p("",!0)]),i("div",O,[i("div",null,[d(s(m),{for:"start_date"},{default:o(()=>e[10]||(e[10]=[u("Start Date")])),_:1,__:[10]}),d(s(g),{id:"start_date",modelValue:l.start_date,"onUpdate:modelValue":e[3]||(e[3]=a=>l.start_date=a),type:"date",class:_({"border-destructive ring-destructive":t.value.start_date})},null,8,["modelValue","class"]),t.value.start_date?(c(),f("span",R,n(t.value.start_date[0]),1)):p("",!0)]),i("div",null,[d(s(m),{for:"end_date"},{default:o(()=>e[11]||(e[11]=[u("End Date")])),_:1,__:[11]}),d(s(g),{id:"end_date",modelValue:l.end_date,"onUpdate:modelValue":e[4]||(e[4]=a=>l.end_date=a),type:"date",class:_({"border-destructive ring-destructive":t.value.end_date})},null,8,["modelValue","class"]),t.value.end_date?(c(),f("span",G,n(t.value.end_date[0]),1)):p("",!0)])]),i("div",null,[d(s(m),{for:"description"},{default:o(()=>e[12]||(e[12]=[u("Description")])),_:1,__:[12]}),S(i("textarea",{id:"description","onUpdate:modelValue":e[5]||(e[5]=a=>l.description=a),rows:"4",class:_(["w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive":t.value.description}]),placeholder:"Enter education description"},null,2),[[B,l.description]]),t.value.description?(c(),f("span",H,n(t.value.description[0]),1)):p("",!0)]),i("div",I,[d(s(T),{id:"is_visible",modelValue:l.is_visible,"onUpdate:modelValue":e[6]||(e[6]=a=>l.is_visible=a)},null,8,["modelValue"]),d(s(m),{for:"is_visible"},{default:o(()=>e[13]||(e[13]=[u("Visible")])),_:1,__:[13]})])],32)]),_:1}),d(s(M),{class:"flex justify-end"},{default:o(()=>[d(s(N),{type:"submit",onClick:E,disabled:b.value},{default:o(()=>[u(n(v.mode==="create"?"Create Education":"Update Education"),1)]),_:1},8,["disabled"])]),_:1})]),_:1}))}};export{ee as _};
